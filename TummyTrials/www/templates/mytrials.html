<ion-view title="My Trials" cache-view="false">
<!-- cache-view="false" is required here to get the controller to
     reinstantiate on every transition to this page. I.e., to get the
     page to display current info.

     http://ionicframework.com/docs/api/directive/ionNavView/
-->
	<ion-pane>
		<ion-content >
		<br/>
		<!-- <h4 class="title">{{text.mytrials.title}}</h4>
		<br/>
		<p>{{text.mytrials.subtitle}}</p>
		<br/>


		<a class="button button-block button-energized" ui-sref="setup_1">
            {{text.mytrials.button}}
        </a> -->
        <div class="padding" ng-hide="!!study_current">
	        <h4 class="title">No ongoing trial</h4>
			<br/>
			<p>Would you like to setup a new trial?</p>
			<br/>

			<a class="button button-block button-royal" ui-sref="setup_1">
	            Setup a New Trial
	        </a>
    	</div>


        <div class="list">

		  <div class="item item-divider">
		    {{text.mytrials.currenttrialtitle}}
		  </div>
		  <a class="item" href="#" ng-hide="!!study_current">
		    There is no ongoing trial.
		  </a>
		  <a class="item" href="#" ng-show="!!study_current">
		    {{study_current.name}}
		  </a>

		  <div class="item item-divider">
		    {{text.mytrials.pasttrialtitle}}
		  </div>
                  <a class="item" ng-repeat="study in study_previous" ui-sref="past_trial_1({studyIndex: $index})" ng-hide="study_previous.length<1">
		    <h2>{{study.name}}</h2>
		  </a>
                  <div class="item" ng-show="study_previous.length<1">
                    There are no past trials.
                  </div>

		</div>

		</ion-content>  
	</ion-pane>
</ion-view>
